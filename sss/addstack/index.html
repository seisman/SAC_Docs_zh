<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>addstack &mdash; SAC参考手册 5.0-dev 文档</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex/" />
    <link rel="search" title="搜索" href="../../search/" />
    <link rel="next" title="changestack" href="../changestack/" />
    <link rel="prev" title="信号叠加子程序" href="../sss/" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../" class="icon icon-home"> SAC参考手册
          </a>
              <div class="version">
                5.0-dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">SAC 入门</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/">SAC 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/">SAC 安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basis/">SAC 基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fileformat/">SAC 文件格式</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data-process/">SAC 数据处理</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SAC 进阶</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../graphics/">SAC 图像</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../macros/">SAC 编程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../call-in-script/">脚本中调用 SAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libs/">SAC 函数库</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sacio/">SAC I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/">SAC 相关工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tricks-and-traps/">SAC 技巧与陷阱</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SAC 命令</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../commands/">SAC 命令</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">SSS 信号叠加子程序</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../sss/">信号叠加子程序</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">addstack</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">概要</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">语法</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">输入</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">缺省值</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">说明</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">限制</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changestack/">changestack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deletestack/">deletestack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deltacheck/">deltacheck</a></li>
<li class="toctree-l2"><a class="reference internal" href="../distanceaxis/">distanceaxis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../distancewindow/">distancewindow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../globalstack/">globalstack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incrementstack/">incrementstack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../liststack/">liststack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plotrecordsection/">plotrecordsection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plotstack/">plotstack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sumstack/">sumstack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timeaxis/">timeaxis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timewindow/">timewindow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../traveltime/">traveltime</a></li>
<li class="toctree-l2"><a class="reference internal" href="../velocitymodel/">velocitymodel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../velocityroset/">velocityroset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writestack/">writestack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zerostack/">zerostack</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../spe/">SPE 谱估计子程序</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">附录</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/messages/">错误与警告</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/resp/">仪器响应</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/data-fetch/">数据获取</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/naming-convections/">数据命名规则</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/changelog/">文档更新历史</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">SAC参考手册</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../">SSS 信号叠加子程序</a> &raquo;</li>
      <li>addstack</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/seisman/SAC_Docs_zh/blob/master/source/sss/addstack.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="addstack">
<h1>addstack<a class="headerlink" href="#addstack" title="此标题的永久链接">¶</a></h1>
<section id="id1">
<h2>概要<a class="headerlink" href="#id1" title="此标题的永久链接">¶</a></h2>
<p>向叠加文件列表中加入新文件</p>
</section>
<section id="id2">
<h2>语法<a class="headerlink" href="#id2" title="此标题的永久链接">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">AddStack filename [Weight v] [DIstance v] [BEgintime v] [ENDtime v]</span>
<span class="go">    [DElay v [Seconds|Points]] [Increment v [Seconds|Points]]</span>
<span class="go">    [Normal|Reverse]</span>
</pre></div>
</div>
</section>
<section id="id3">
<h2>输入<a class="headerlink" href="#id3" title="此标题的永久链接">¶</a></h2>
<dl class="simple">
<dt>filename</dt><dd><p>要加入叠加文件列表中的文件</p>
</dd>
<dt>WEIGHT v</dt><dd><p>当前文件的权重因子。v 的取值范围为0到1，在叠加之前会首先对文件的每个值乘以该权重因子再做叠加。</p>
</dd>
<dt>DISTANCE v</dt><dd><p>该文件所对应的震中距，单位为 km。用于计算动态时间延迟</p>
</dd>
<dt>BEGINTIME v</dt><dd><p>事件开始的时间</p>
</dd>
<dt>ENDTIME</dt><dd><p>事件结束时间</p>
</dd>
<dt>DELAY v SECONDS|POINTS</dt><dd><p>该文件的静态时间延迟，单位为秒或数据点数</p>
</dd>
<dt>INCREMENT v SECONDS|POINTS</dt><dd><p>该文件的静态时间延迟增量，单位为秒或数据点数。在每次执行 <code class="docutils literal notranslate"><span class="pre">incrementstack</span></code>
命令时，静态时间延迟会增加一个常数。</p>
</dd>
<dt>NORMAL|REVERSED</dt><dd><p>文件拥有正/负极性</p>
</dd>
</dl>
</section>
<section id="id4">
<h2>缺省值<a class="headerlink" href="#id4" title="此标题的永久链接">¶</a></h2>
<p>DELAY 和 INCREMENT 选型的缺省单位为 SECONDS</p>
</section>
<section id="id5">
<h2>说明<a class="headerlink" href="#id5" title="此标题的永久链接">¶</a></h2>
<p>每个叠加列表中的文件，都有7个属性，分别为：</p>
<ol class="arabic simple">
<li><p>权重因子；</p></li>
<li><p>台站到震中的距离；</p></li>
<li><p>事件开始时间；</p></li>
<li><p>事件结束时间；</p></li>
<li><p>静态时间延迟；</p></li>
<li><p>静态时间延迟增量；</p></li>
<li><p>数据极性；</p></li>
</ol>
<p>可以用 <a class="reference internal" href="../globalstack/"><span class="doc">globalstack</span></a> 命令为这些叠加属性设置全局值。当一个文件通过
<a class="reference internal" href="#"><span class="doc">addstack</span></a> 命令加入到叠加文件列表中时，若未指定属性值则使用全局属性值。
<a class="reference internal" href="../changestack/"><span class="doc">changestack</span></a> 可以用于在文件已经加入叠加文件列表后修改叠加属性值。</p>
</section>
<section id="id6">
<h2>示例<a class="headerlink" href="#id6" title="此标题的永久链接">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">SAC/SSS&gt; gs delay 1.0 inc 0.03</span>
<span class="go">SAC/SSS&gt; as filea delay 2.0</span>
<span class="go">SAC/SSS&gt; as fileb delay 3.0 inc 0.01 rev</span>
<span class="go">SAC/SSS&gt; as filec</span>
<span class="go">SAC/SSS&gt; as filed w 0.5</span>
</pre></div>
</div>
<p>第一个命令修改了时间延迟和时间延迟增量的全局属性值，其他全局属性则使用缺省值。</p>
<ul class="simple">
<li><p>filea：除时间延迟外其他属性均与全局属性相同；</p></li>
<li><p>fileb：除时间延迟、时间延迟增量、信号极性外，其余属性均与全局属性相同；</p></li>
<li><p>filec：所有属性与全局熟悉相同；</p></li>
<li><p>filed：除权重因子外，其他所有属性与全局属性相同；</p></li>
</ul>
<p>接下来对信号进行叠加：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">SAC/SSS&gt; sumstack</span>
</pre></div>
</div>
<p>该命令会将叠加文件列表中的四个文件 filea、fileb、filec 和 filed 进行叠加，时间延迟分别为2.0、3.0、1.0和1.0。文件 filec 的极性反转。文件 filed 在叠加时的权重是其他文件权重的一半。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">SAC/SSS&gt; incrementstack</span>
<span class="go">SAC/SSS&gt; changestack filec normal</span>
<span class="go">SAC/SSS&gt; sumstack</span>
</pre></div>
</div>
<p>此次叠加，各个文件使用2.03、3.01、1.03和1.03的延迟。文件 filec 现在为正极性。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">SAC/SSS&gt; deletestack filed</span>
<span class="go">SAC/SSS&gt; incrementstack</span>
<span class="go">SAC/SSS&gt; sumstack</span>
</pre></div>
</div>
<p>第三次叠加讲只对文件 filea、fileb、filec 进行，时间延迟分别为2.06、3.02、1.06。</p>
</section>
<section id="id7">
<h2>限制<a class="headerlink" href="#id7" title="此标题的永久链接">¶</a></h2>
<p>叠加文件列表中文件数目的最大限制与 SAC 所能读取的文件数目一致，即最多1000个。</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../sss/" class="btn btn-neutral float-left" title="信号叠加子程序" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../changestack/" class="btn btn-neutral float-right" title="changestack" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2012 - 2022, SeisMan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>